<div class="container all-comm pt-2 pb-2 container-font">
  
  <!--start add comments -->
  <section class="rating-section pb-5 border-bottom">
    <h3 class="reviewsRange">Write Reviews</h3>
    <div class="rating-person pt-3 col-md-6">
      <app-rates [id]="singlePlaceId"></app-rates>
    </div>
    <div class="input-group mb-3 add-comm col-md-6 col-12 ">
      <input placeholder="Your Comment ..." class="input-custome col-7 col-md-8" #inputComment>
      <button class="col-5 col-md-4 btn customize-btn" (click)="addComment(inputComment)">add comment</button>
    </div>
  </section>
  <!--end add comment -->

  <h4 class="reviewsCustomer pt-3" *ngIf="Writecomments">Customer Reviews</h4>
  <div class="col-12 d-flex  border-bottom pt-3 pb-3 rate-commts"
    *ngFor="let comment of showedComments ; let i=index">
    <figure class="col-4 col-md-1 userImg">
      <img src="../../assets/avatar.png" class="img-fluid">
      <h5 class="userName">{{comment.userName}}</h5>
    </figure>
    <div class="col-7 p-0 ">

      <div>
        <svg *ngFor="let rate of comment.arrOfRate" height="25" width="20" class="star rating" viewBox="0 0 30 20">
          <polygon points="9.9, 1.1, 3.3 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78" style="fill-rule:nonzero;">
          </polygon>
        </svg>
      </div>

      <ng-template #visiblePara>
        <div id="custome-para" class="col-12 d-flex flex-wrap p-0 justify-content-between">
          <p class="col-md-6 col-12 p-0 comment-para">{{comment.comment}}</p>
          <div *ngIf="comment.userId==user.id" class="col-6   editContainer">
            <!-- delet btn -->
            <button (click)='deleteComm(comment.id)' type="button" class="btn  deleteBtn mr-2 ">
              <i class="fas fa-trash pr-2"></i>Delete</button>
            <!-- edit btn -->
            <button (click)='editComm(comment.id,i)' type="button" class="btn btn-outline-success editBtn">
              <i class="fas fa-pen pr-2"></i>Edit</button>
          </div>
          <div *ngIf="comment.userId==user.id" class="col-12 d-flex  d-md-none  editContainer2">
          <!-- delet btn for mobile screen-->
          <button (click)='deleteComm(comment.id)'  type="button" class="btn deleteBtnMob">
          <i class="fas fa-trash"></i></button>
          <!-- edit btn for mobile screen-->
          <button (click)='editComm(comment.id,i)' type="button" class="btn d-md-none  editBtnMob ">
          <i class="fas fa-pen"></i></button>
          </div>    
        </div>
      </ng-template>

      <div style="display: none;" class="{{comment.id}} col-12 d-flex flex-wrap d-md-block p-0"
        *ngIf='inputDisplay[i] && comment.userId==user.id ; else visiblePara'>
        <textarea id="{{comment.id}}" type="text" value="{{comment.comment}}" #inputval class="inputEdit inputEditMob w-100"
          maxlength="700"></textarea>
        <button (click)="addingEdidtedComment(comment.id,i)" class="saveBtn saveBtnMob btn">Save</button>
      </div>

    </div>
  </div>
</div>